#!/bin/sh


set -e

clang -std=c23 -ffreestanding -ffunction-sections build/mob/bootstrap.c -o bootstrap
./bootstrap                         \
    "build/mob/std/io.c"            \
    "build/mob/std/mem.c"           \
    "build/mob/std/sort.c"          \
    "build/mob/std/math.c"          \
    "build/mob/std/file.c"          \
    "build/mob/std/types.c"         \
    "build/mob/std/arena.c"         \
    "build/mob/std/string.c"        \
    "build/mob/std/collection.c"    \
    "build/mob/std/unix_os.c"       \
    "build/mob/std/unix_sys.c"      \
    "build/mob/std/unix_socket.c"   \
    "build/mob/std/unix_window.c"   \
                                    \
    "src/tui.c"                     \
    "src/bed.c"                  

clang -std=c23 -ffreestanding -ffunction-sections bootstrap.c -o bed
./bed

