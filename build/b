#!/bin/sh


set -e

pushd build

clang -std=c23 -ffreestanding mob/bootstrap.c -o bootstrap
./bootstrap                         \
    "../../mob/std/io.c"            \
    "../../mob/std/mem.c"           \
    "../../mob/std/sort.c"          \
    "../../mob/std/math.c"          \
    "../../mob/std/file.c"          \
    "../../mob/std/types.c"         \
    "../../mob/std/arena.c"         \
    "../../mob/std/string.c"        \
    "../../mob/std/collection.c"    \
    "../../mob/std/unix_os.c"       \
    "../../mob/std/unix_sys.c"      \
    "../../mob/std/unix_socket.c"   \
    "../../mob/std/unix_window.c"   \
                                    \
    "../src/bed.c"                  

clang -std=c23 -ffreestanding bootstrap.c -o bed
./bed

popd
